devtools::document()
devtools::document()
usethis::use_gpl3_license("Xiangming Cai")
usethis::use_gpl3_license()
devtools::document()
devtools::install_github("xiangmingcai/USERM")
devtools::install_github("xiangmingcai/USERM")
usethis::edit_r_environ()
devtools::install_github("xiangmingcai/USERM")
devtools::install_github("xiangmingcai/USERM")
usethis::use_package("ggplot2")
usethis::use_package("flowCore")
usethis::use_package("MASS")
usethis::use_package("reshape2")
usethis::use_package("progress")
usethis::use_package("shiny")
usethis::use_package("DT")
usethis::use_package("dplyr")
usethis::use_package("rmarkdown")
usethis::use_package("patchwork")
devtools::install_github("xiangmingcai/USERM")
library(USERM)
data_dir = "E:/ResidualModel/RscriptSUPR/data"
report_tmp_dir = "E:/ResidualModel/RscriptSUPR/report_tmp"
tmp_dir = "E:/ResidualModel/RscriptSUPR/tmp"
Sig_list = readRDS(paste0(tmp_dir,"/Sig_list.rds"))
Sig_df = SigList2df(SigList= Sig_list,SigName = "id")
Sig_mtx = as.matrix(Sig_df)
colnames(Sig_mtx)
#initial SuprObj
SuprObj = CreateSupr(A = Sig_mtx)
#initial SuprObj
SuprObj = CreateUserm(A = Sig_mtx)
#add ResObj into SuprObj
for (save_suf in colnames(Sig_mtx)) {
ResObj = readRDS(file = paste0(tmp_dir,"/Estimation_",save_suf,"_ResObj.rds"))
SuprObj = AddRes2Userm(Res = ResObj, Supr = SuprObj)
}
#initial SuprObj
SuprObj = CreateUserm(A = Sig_mtx)
#add ResObj into SuprObj
for (save_suf in colnames(Sig_mtx)) {
ResObj = readRDS(file = paste0(tmp_dir,"/Estimation_",save_suf,"_ResObj.rds"))
SuprObj = AddRes2Userm(Res = ResObj, Userm = SuprObj)
}
SuprObj = AddScale(Supr = SuprObj,fluor = colnames(Sig_mtx)[1],min = -100, max = 1000, scale = "Linear", cofactor = 10)# c("Linear","Log10","Arcsinh")
#initial SuprObj
SuprObj = CreateUserm(A = Sig_mtx)
#add ResObj into SuprObj
for (save_suf in colnames(Sig_mtx)) {
ResObj = readRDS(file = paste0(tmp_dir,"/Estimation_",save_suf,"_ResObj.rds"))
SuprObj = AddRes2Userm(Res = ResObj, Userm = SuprObj)
}
SuprObj = AddScale(Userm = SuprObj,fluor = colnames(Sig_mtx)[1],min = -100, max = 1000, scale = "Linear", cofactor = 10)# c("Linear","Log10","Arcsinh")
SuprObj = AddScale(Userm = SuprObj,fluor = colnames(Sig_mtx)[2],min = -100, max = 1000, scale = "Log10", cofactor = 10)# c("Linear","Log10","Arcsinh")
SuprObj = AddScale(Userm = SuprObj,fluor = colnames(Sig_mtx)[3],min = -100, max = 1000, scale = "Arcsinh", cofactor = 10)# c("Linear","Log10","Arcsinh")
SuprObj = AddScale(Userm = SuprObj,fluor = colnames(Sig_mtx)[4],min = -100, max = 1000, scale = "Arcsinh", cofactor = 10)# c("Linear","Log10","Arcsinh")
SuprObj$Intensity_mtx[,2] = c(500,520,530,540)
SuprObj$Intensity_mtx[,3] = c(300,320,330,340)
PredOneSpread(Userm = SuprObj,population_id = c("V2"))
# #read in SCC fcs
# library(flowCore)
# library(MASS)
# library(GateData)
# library(ggplot2)
# library(reshape2)
# library(progress)
library(shiny)
PredOneSpread(Userm = SuprObj,population_id = c("V2"))
devtools::document()
devtools::document()
# library(DT)
# library(dplyr)
# library(rmarkdown)
# library(patchwork)
#
devtools::install_github("xiangmingcai/USERM")
# library(DT)
# library(dplyr)
# library(rmarkdown)
# library(patchwork)
#
devtools::install_github("xiangmingcai/USERM")
library(USERM)
data_dir = "E:/ResidualModel/RscriptSUPR/data"
report_tmp_dir = "E:/ResidualModel/RscriptSUPR/report_tmp"
tmp_dir = "E:/ResidualModel/RscriptSUPR/tmp"
Sig_list = readRDS(paste0(tmp_dir,"/Sig_list.rds"))
Sig_df = SigList2df(SigList= Sig_list,SigName = "id")
Sig_mtx = as.matrix(Sig_df)
colnames(Sig_mtx)
#initial SuprObj
SuprObj = CreateUserm(A = Sig_mtx)
#add ResObj into SuprObj
for (save_suf in colnames(Sig_mtx)) {
ResObj = readRDS(file = paste0(tmp_dir,"/Estimation_",save_suf,"_ResObj.rds"))
SuprObj = AddRes2Userm(Res = ResObj, Userm = SuprObj)
}
SuprObj = AddScale(Userm = SuprObj,fluor = colnames(Sig_mtx)[1],min = -100, max = 1000, scale = "Linear", cofactor = 10)# c("Linear","Log10","Arcsinh")
SuprObj = AddScale(Userm = SuprObj,fluor = colnames(Sig_mtx)[2],min = -100, max = 1000, scale = "Log10", cofactor = 10)# c("Linear","Log10","Arcsinh")
SuprObj = AddScale(Userm = SuprObj,fluor = colnames(Sig_mtx)[3],min = -100, max = 1000, scale = "Arcsinh", cofactor = 10)# c("Linear","Log10","Arcsinh")
SuprObj = AddScale(Userm = SuprObj,fluor = colnames(Sig_mtx)[4],min = -100, max = 1000, scale = "Arcsinh", cofactor = 10)# c("Linear","Log10","Arcsinh")
SuprObj$Intensity_mtx[,2] = c(500,520,530,540)
SuprObj$Intensity_mtx[,3] = c(300,320,330,340)
colnames(SuprObj$Intensity_mtx)
PredOneSpread(Userm = SuprObj,population_id = c("V2"))
# #read in SCC fcs
# library(flowCore)
# library(MASS)
# library(GateData)
# library(ggplot2)
# library(reshape2)
# library(progress)
library(shiny)
PredOneSpread(Userm = SuprObj,population_id = c("V2"))
tempReport <- system.file("report_tmp", "UsermOneNx1.Rmd", package = "USERM")
tempReport
# library(DT)
# library(dplyr)
# library(rmarkdown)
# library(patchwork)
#
devtools::install_github("xiangmingcai/USERM")
library(USERM)
data_dir = "E:/ResidualModel/RscriptSUPR/data"
report_tmp_dir = "E:/ResidualModel/RscriptSUPR/report_tmp"
tmp_dir = "E:/ResidualModel/RscriptSUPR/tmp"
Sig_list = readRDS(paste0(tmp_dir,"/Sig_list.rds"))
Sig_df = SigList2df(SigList= Sig_list,SigName = "id")
Sig_mtx = as.matrix(Sig_df)
colnames(Sig_mtx)
#initial SuprObj
SuprObj = CreateUserm(A = Sig_mtx)
#add ResObj into SuprObj
for (save_suf in colnames(Sig_mtx)) {
ResObj = readRDS(file = paste0(tmp_dir,"/Estimation_",save_suf,"_ResObj.rds"))
SuprObj = AddRes2Userm(Res = ResObj, Userm = SuprObj)
}
SuprObj = AddScale(Userm = SuprObj,fluor = colnames(Sig_mtx)[1],min = -100, max = 1000, scale = "Linear", cofactor = 10)# c("Linear","Log10","Arcsinh")
SuprObj = AddScale(Userm = SuprObj,fluor = colnames(Sig_mtx)[2],min = -100, max = 1000, scale = "Log10", cofactor = 10)# c("Linear","Log10","Arcsinh")
SuprObj = AddScale(Userm = SuprObj,fluor = colnames(Sig_mtx)[3],min = -100, max = 1000, scale = "Arcsinh", cofactor = 10)# c("Linear","Log10","Arcsinh")
SuprObj = AddScale(Userm = SuprObj,fluor = colnames(Sig_mtx)[4],min = -100, max = 1000, scale = "Arcsinh", cofactor = 10)# c("Linear","Log10","Arcsinh")
SuprObj$Intensity_mtx[,2] = c(500,520,530,540)
SuprObj$Intensity_mtx[,3] = c(300,320,330,340)
PredOneSpread(Userm = SuprObj,population_id = c("V2"))
devtools::document()
# library(GateData)
# library(ggplot2)
# library(reshape2)
# library(progress)
# library(shiny)
# library(DT)
# library(dplyr)
# library(rmarkdown)
# library(patchwork)
#
devtools::install_github("xiangmingcai/USERM")
library(USERM)
data_dir = "E:/ResidualModel/RscriptSUPR/data"
report_tmp_dir = "E:/ResidualModel/RscriptSUPR/report_tmp"
tmp_dir = "E:/ResidualModel/RscriptSUPR/tmp"
Sig_list = readRDS(paste0(tmp_dir,"/Sig_list.rds"))
Sig_df = SigList2df(SigList= Sig_list,SigName = "id")
Sig_mtx = as.matrix(Sig_df)
colnames(Sig_mtx)
#initial SuprObj
SuprObj = CreateUserm(A = Sig_mtx)
#add ResObj into SuprObj
for (save_suf in colnames(Sig_mtx)) {
ResObj = readRDS(file = paste0(tmp_dir,"/Estimation_",save_suf,"_ResObj.rds"))
SuprObj = AddRes2Userm(Res = ResObj, Userm = SuprObj)
}
SuprObj = AddScale(Userm = SuprObj,fluor = colnames(Sig_mtx)[1],min = -100, max = 1000, scale = "Linear", cofactor = 10)# c("Linear","Log10","Arcsinh")
SuprObj = AddScale(Userm = SuprObj,fluor = colnames(Sig_mtx)[2],min = -100, max = 1000, scale = "Log10", cofactor = 10)# c("Linear","Log10","Arcsinh")
SuprObj = AddScale(Userm = SuprObj,fluor = colnames(Sig_mtx)[3],min = -100, max = 1000, scale = "Arcsinh", cofactor = 10)# c("Linear","Log10","Arcsinh")
SuprObj = AddScale(Userm = SuprObj,fluor = colnames(Sig_mtx)[4],min = -100, max = 1000, scale = "Arcsinh", cofactor = 10)# c("Linear","Log10","Arcsinh")
SuprObj$Intensity_mtx[,2] = c(500,520,530,540)
SuprObj$Intensity_mtx[,3] = c(300,320,330,340)
PredOneSpread(Userm = SuprObj,population_id = c("V2"))
devtools::document()
